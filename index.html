<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Tic Tac Toe â€” Smooth Gradient</title>
<style>
  :root {
    --accent: #7dd3fc;
    --muted: #94a3b8;
    --win: #34d399;
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }

  html, body {
    height: 100%;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    background: linear-gradient(180deg, #071029 0%, #061524 100%);
    background-size: cover;
    background-attachment: fixed;
    color: #e6eef6;
  }

  .wrap {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    padding: 40px 24px 80px 24px;
    box-sizing: border-box;
    width: 100%;
  }

  .card {
    width: min(720px, 96vw);
    background: linear-gradient(to bottom, rgba(11,18,32,0.85), rgba(11,18,32,0.75));
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 10px 30px rgba(2,6,23,0.7), 0 20px 50px rgba(2,6,23,0.3);
    transition: background 0.3s ease;
  }

  header { display: flex; flex-wrap: wrap; gap: 12px; justify-content: space-between; margin-bottom: 16px; }
  h1 { font-size: 18px; margin: 0; color: var(--accent); }
  .controls { display: flex; flex-wrap: wrap; gap: 8px; align-items: center; }
  select, button { background: transparent; border: 1px solid rgba(255,255,255,0.06); color: var(--muted); padding: 8px 10px; border-radius: 8px; min-width: 80px; }
  button { cursor: pointer; }
  .score { display: flex; flex-wrap: wrap; gap: 12px; align-items: center; margin-bottom: 12px; }
  .board { display: grid; grid-template-columns: repeat(3,1fr); gap: 4px; padding: 12px; background: rgba(255,255,255,0.05); border-radius: 8px; }
  .cell { aspect-ratio:1/1; display:flex; align-items:center; justify-content:center; font-size:48px; background:rgba(255,255,255,0.08); border:2px solid rgba(255,255,255,0.15); border-radius:8px; cursor:pointer; user-select:none; transition: transform .08s ease, box-shadow .12s; }
  .cell:hover { transform:translateY(-3px); box-shadow:0 0 12px rgba(255,255,255,0.2); }
  .highlight { box-shadow:0 6px 18px rgba(52,211,153,0.14); background:linear-gradient(180deg, rgba(52,211,153,0.08), rgba(52,211,153,0.02)); }
  .muted { font-size:13px; color:var(--muted); margin-top:10px; }
  .footer { display:flex; flex-wrap:wrap; justify-content:space-between; align-items:center; margin-top:20px; font-size:13px; color:var(--muted); gap:8px; }
  @media(max-width:480px){ header, .controls, .score, .footer { flex-direction: column; align-items:flex-start; } button, select { width: 100%; } .cell { font-size: 32px; } }
</style>
</head>
<body>
<div class="wrap">
  <div class="card" role="application" aria-label="Tic Tac Toe game">
    <header>
      <h1>ðŸŽ¯ Tic Tac Toe</h1>
      <div class="controls">
        <label for="mode">Mode</label>
        <select id="mode">
          <option value="pvp">2-Player</option>
          <option value="pve">Single Player</option>
        </select>
        <label for="ai-level">AI</label>
        <select id="ai-level">
          <option value="random">Easy</option>
          <option value="minimax">Hard</option>
        </select>
        <label for="theme">Theme</label>
        <select id="theme">
          <option value="dark">Dark</option>
          <option value="sunset">Sunset</option>
          <option value="ocean">Ocean</option>
          <option value="forest">Forest</option>
        </select>
        <button id="undoBtn">Undo</button>
        <button id="resetBtn">Restart</button>
      </div>
    </header>

    <div class="score">
      <div>X: <span id="scoreX">0</span></div>
      <div>O: <span id="scoreO">0</span></div>
      <div>Draws: <span id="scoreD">0</span></div>
      <div style="margin-left:auto">Turn: <strong id="turn">X</strong></div>
    </div>

    <div class="board" id="board">
      <div class="cell" data-index="0"></div>
      <div class="cell" data-index="1"></div>
      <div class="cell" data-index="2"></div>
      <div class="cell" data-index="3"></div>
      <div class="cell" data-index="4"></div>
      <div class="cell" data-index="5"></div>
      <div class="cell" data-index="6"></div>
      <div class="cell" data-index="7"></div>
      <div class="cell" data-index="8"></div>
    </div>

    <div class="muted">Click a cell to play.</div>

    <div class="footer">
      <div>Portfolio Project â€” includes AI & undo.</div>
      <div><button id="downloadBtn">Export Board</button></div>
    </div>
  </div>
</div>

<script>
// Theme switching
const themeEl = document.getElementById('theme');
const cardEl = document.querySelector('.card');
const themes = {
  dark: {bg:'linear-gradient(180deg, #071029 0%, #061524 100%)', card:'linear-gradient(to bottom, rgba(11,18,32,0.85), rgba(11,18,32,0.75))', accent:'#7dd3fc'},
  sunset: {bg:'linear-gradient(180deg, #ff7e5f, #feb47b)', card:'linear-gradient(to bottom, rgba(255,255,255,0.15), rgba(255,255,255,0.05))', accent:'#ffdd99'},
  ocean: {bg:'linear-gradient(180deg, #2193b0, #6dd5ed)', card:'linear-gradient(to bottom, rgba(255,255,255,0.15), rgba(255,255,255,0.05))', accent:'#a0e7e5'},
  forest: {bg:'linear-gradient(180deg, #134e4a, #16a34a)', card:'linear-gradient(to bottom, rgba(255,255,255,0.15), rgba(255,255,255,0.05))', accent:'#b7f5d0'}
};
function applyTheme(name){
  const t = themes[name];
  document.body.style.background = t.bg;
  cardEl.style.background = t.card;
  document.documentElement.style.setProperty('--accent', t.accent);
}
themeEl.addEventListener('change', e=>applyTheme(e.target.value));
applyTheme('dark');

// Tic Tac Toe logic
let board = Array(9).fill(null), currentPlayer='X', isGameOver=false, history=[], scores={X:0,O:0,D:0};
const cells=[...document.querySelectorAll('.cell')], turnEl=document.getElementById('turn'),
modeEl=document.getElementById('mode'), aiLevelEl=document.getElementById('ai-level'),
resetBtn=document.getElementById('resetBtn'), undoBtn=document.getElementById('undoBtn'),
scoreX=document.getElementById('scoreX'), scoreO=document.getElementById('scoreO'), scoreD=document.getElementById('scoreD'),
downloadBtn=document.getElementById('downloadBtn');

const WIN_LINES=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];

function render(){ cells.forEach((c,i)=>{ c.textContent=board[i]||''; c.classList.remove('highlight'); }); turnEl.textContent=currentPlayer; }
function checkWinner(bd){ for(const line of WIN_LINES){ const [a,b,c]=line; if(bd[a]&&bd[a]===bd[b]&&bd[a]===bd[c]) return {winner:bd[a], line}; } if(bd.every(x=>x)) return {winner:'draw'}; return null; }
function setStatusWinner(winner,line){ isGameOver=true; if(winner==='draw'){ scores.D++; scoreD.textContent=scores.D; alert("It's a draw!"); } else{ scores[winner]++; if(winner==='X') scoreX.textContent=scores.X; else scoreO.textContent=scores.O; if(line) line.forEach(i=>cells[i].classList.add('highlight')); alert(`${winner} wins!`); } }

function makeMove(i,p){ if(isGameOver||board[i]) return false; board[i]=p; history.push({i,p}); const r=checkWinner(board); if(r){ setStatusWinner(r.winner,r.line||[]); } else{ currentPlayer=(p==='X')?'O':'X'; if(modeEl.value==='pve' && currentPlayer==='O') setTimeout(aiMove,150); } render(); return true; }

function undo(){ if(!history.length||isGameOver) return; const last=history.pop(); board[last.i]=null; isGameOver=false; currentPlayer=last.p; render(); }
function aiMove(){ if(isGameOver) return; if(aiLevelEl.value==='random'){ const empties=board.map((v,i)=>v?v:null).filter(v=>v!==null); makeMove(empties[Math.floor(Math.random()*empties.length)],'O'); } else{ const move=minimaxDecision(board,'O'); if(move!==null) makeMove(move,'O'); } }
function minimaxDecision(bd,p){ const avail=bd.map((v,i)=>v?v:null).filter(v=>v!==null); if(avail.length===9) return 4; let best=-Infinity,bestMove=null; for(const idx of avail){ const copy=bd.slice(); copy[idx]=p; const val=minimax(copy,0,false); if(val>best){best=val; bestMove=idx;} } return bestMove; }
function minimax(bd,d,isMax){ const r=checkWinner(bd); if(r){ if(r.winner==='X') return -1; if(r.winner==='O') return 1; if(r.winner==='draw') return 0; } const avail=bd.map((v,i)=>v?v:null).filter(v=>v!==null); if(isMax){ let best=-Infinity; for(const i of avail){ bd[i]='O'; best=Math.max(best,minimax(bd,d+1,false)); bd[i]=null; } return best; } else{ let best=Infinity; for(const i of avail){ bd[i]='X'; best=Math.min(best,minimax(bd,d+1,true)); bd[i]=null; } return best; } }

cells.forEach(c=>c.addEventListener('click',e=>{ const i=Number(e.currentTarget.dataset.index); if(modeEl.value==='pve'&&currentPlayer==='O') return; makeMove(i,currentPlayer); }));
resetBtn.addEventListener('click',()=>{ board=Array(9).fill(null); history=[]; isGameOver=false; currentPlayer='X'; render(); });
undoBtn.addEventListener('click',undo);
modeEl.addEventListener('change',()=>{ board=Array(9).fill(null); history=[]; isGameOver=false; currentPlayer='X'; render(); });
downloadBtn.addEventListener('click',()=>{ const payload={board,currentPlayer,scores,history,mode:modeEl.value,ai:aiLevelEl.value,time:new Date().toISOString()}; const blob=new Blob([JSON.stringify(payload,null,2)],{type:'application/json'}); const url=URL.createObjectURL(blob); const a=document.createElement('a'); a.href=url; a.download='tic-tac-toe-board.json'; a.click(); URL.revokeObjectURL(url); });

render();
</script>
</body>
</html>